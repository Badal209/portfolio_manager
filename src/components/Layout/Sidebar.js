import React, { useState } from "react";
import { useSelector } from "react-redux";
import { Link } from "react-router-dom";
import profile from "../../assets/img/a4.jpg";
import { routes } from "../../route/route";

const Sidebar = () => {
  const user = useSelector((state) => state.user.user);
  const [isOpen, setIsOpen] = useState(false);

  if (!user) return null;
  return (
    <nav className="navbar-default navbar-static-side" role="navigation">
      <div className="sidebar-collapse">
        <ul className="nav metismenu" id="side-menu">
          <li className="nav-header">
            <div className={`dropdown profile-element ${isOpen && "show"}`}>
              <img alt="image" className="rounded-circle" src={profile} />
              <a
                data-toggle="dropdown"
                data-bs-toggle="dropdown"
                className="dropdown-toggle"
                href=""
                aria-expanded="false"
              >
                <span className="block m-t-xs font-bold">David Williams</span>
                <span
                  className="text-muted text-xs block"
                  onClick={(e) => {
                    e.preventDefault();
                    setIsOpen(!isOpen);
                  }}
                >
                  Project manager <b className="caret"></b>
                </span>
              </a>
              <ul
                aria-labelledby="navbarDropdown"
                className={`dropdown-menu animated fadeInRight m-t-xs ${
                  isOpen && "show"
                }`}
              >
                <li>
                  <a className="dropdown-item" href="profile.html">
                    Profile
                  </a>
                </li>
                <li>
                  <a className="dropdown-item" href="contacts.html">
                    Contacts
                  </a>
                </li>
                <li>
                  <a className="dropdown-item" href="mailbox.html">
                    Mailbox
                  </a>
                </li>
                <li className="dropdown-divider"></li>
                <li>
                  <Link to={routes.logout} className="dropdown-item">
                    Logout
                  </Link>
                </li>
              </ul>
            </div>
            <div className="logo-element">
              <svg
                width="32"
                height="34"
                viewBox="0 0 32 34"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M28.0611 5.64085C28.3253 5.4967 28.6951 5.31599 29.2234 5.09036C29.8257 4.81041 30.4375 4.07921 30.1744 2.88943C29.9272 1.73308 28.8177 0.136963 27.4134 0.136963C27.2307 0.136892 27.0491 0.164007 26.8745 0.217396L26.6833 0.271714C21.137 1.94304 20.4883 2.69827 20.2241 3.50051C20.0593 3.98833 20.1417 4.36647 20.4967 5.94483C21.2459 9.24674 23.2249 18.0223 20.2051 22.0314C19.2383 23.3026 17.8245 23.9973 15.8993 24.1414C13.9646 23.9973 12.5603 23.3057 11.5925 22.0314C8.5726 18.0264 10.5527 9.25092 11.3008 5.94483C11.6559 4.36647 11.7393 3.98833 11.5745 3.50051C11.3008 2.69827 10.6521 1.94095 5.10579 0.271714L4.92299 0.217396C4.74883 0.164002 4.56752 0.136886 4.38517 0.136963C2.97985 0.136963 1.87566 1.73308 1.62101 2.89674C1.36531 4.07712 1.97604 4.80832 2.57938 5.09036C3.09819 5.31599 3.46378 5.4967 3.72794 5.64085C2.45153 8.08517 -0.696181 14.2722 1.07368 21.9927C3.46378 32.356 12.2412 33.4747 15.8993 33.4747C19.5574 33.4747 28.3253 32.356 30.7154 21.9927C32.4948 14.2701 29.3481 8.08308 28.0611 5.64085ZM5.2981 13.0793C5.49778 13.0787 5.69315 13.1367 5.85943 13.246C6.0257 13.3553 6.1554 13.511 6.23205 13.6933C6.30871 13.8756 6.32887 14.0762 6.28999 14.2699C6.25111 14.4635 6.15494 14.6413 6.01367 14.7809C5.8724 14.9204 5.69239 15.0153 5.49649 15.0535C5.30059 15.0917 5.09762 15.0716 4.91331 14.9956C4.72901 14.9196 4.57168 14.7913 4.46129 14.6268C4.3509 14.4623 4.29241 14.2691 4.29324 14.0717C4.29463 13.8087 4.40098 13.5569 4.58916 13.3711C4.77733 13.1853 5.03212 13.0804 5.2981 13.0793ZM6.92109 6.73035C7.12134 6.73035 7.31709 6.78907 7.48357 6.89907C7.65006 7.00908 7.7798 7.16543 7.85639 7.34835C7.93297 7.53126 7.95296 7.73252 7.91381 7.92667C7.87467 8.12082 7.77816 8.29912 7.63648 8.43903C7.49481 8.57894 7.31435 8.67417 7.11792 8.71266C6.92149 8.75116 6.71793 8.73119 6.53298 8.65529C6.34804 8.57939 6.19002 8.45096 6.07892 8.28626C5.96782 8.12156 5.90862 7.92798 5.90883 7.73001C5.90841 7.59853 5.93431 7.46827 5.98505 7.34673C6.03578 7.22519 6.11035 7.11477 6.20444 7.02185C6.29854 6.92893 6.41031 6.85533 6.5333 6.8053C6.6563 6.75527 6.78809 6.7298 6.92109 6.73035ZM5.70807 20.265C5.84045 20.265 5.97153 20.2907 6.09383 20.3408C6.21613 20.3909 6.32726 20.4643 6.42086 20.5568C6.51446 20.6494 6.58871 20.7592 6.63937 20.8801C6.69003 21.001 6.7161 21.1306 6.7161 21.2615C6.7161 21.3924 6.69003 21.5219 6.63937 21.6429C6.58871 21.7638 6.51446 21.8736 6.42086 21.9662C6.32726 22.0587 6.21613 22.1321 6.09383 22.1822C5.97153 22.2323 5.84045 22.258 5.70807 22.258C5.44072 22.258 5.18433 22.153 4.99529 21.9662C4.80625 21.7793 4.70004 21.5258 4.70004 21.2615C4.70004 20.9972 4.80625 20.7437 4.99529 20.5568C5.18433 20.37 5.44072 20.265 5.70807 20.265ZM9.8226 27.7337C9.62343 27.7329 9.42897 27.6738 9.2637 27.5639C9.09842 27.454 8.96974 27.2983 8.89386 27.1162C8.81798 26.9342 8.79829 26.734 8.83728 26.5409C8.87626 26.3478 8.97218 26.1704 9.11294 26.0311C9.2537 25.8918 9.43301 25.7968 9.62829 25.7581C9.82357 25.7193 10.0261 25.7386 10.2103 25.8134C10.3945 25.8882 10.5523 26.0153 10.6636 26.1786C10.7749 26.3418 10.8349 26.534 10.8359 26.7309C10.837 26.863 10.8116 26.9939 10.7611 27.1162C10.7107 27.2385 10.6361 27.3496 10.5419 27.4432C10.4476 27.5368 10.3355 27.6109 10.212 27.6613C10.0886 27.7117 9.95619 27.7374 9.8226 27.7368V27.7337ZM14.886 29.0917C14.887 28.895 14.9469 28.7031 15.0581 28.54C15.1692 28.3769 15.3267 28.25 15.5107 28.1752C15.6947 28.1005 15.8969 28.0812 16.092 28.1198C16.287 28.1584 16.4661 28.2532 16.6068 28.3923C16.7474 28.5313 16.8433 28.7084 16.8824 28.9012C16.9215 29.094 16.9019 29.294 16.8263 29.4758C16.7507 29.6577 16.6223 29.8134 16.4573 29.9233C16.2924 30.0332 16.0982 30.0924 15.8993 30.0934C15.6319 30.0926 15.3756 29.9877 15.1859 29.8013C14.9963 29.615 14.8885 29.3623 14.886 29.0979V29.0917ZM25.4893 14.0717C25.4901 13.8746 25.5501 13.6821 25.6615 13.5187C25.773 13.3553 25.931 13.2282 26.1155 13.1536C26.3 13.0789 26.5028 13.06 26.6981 13.0993C26.8935 13.1385 27.0727 13.2342 27.2131 13.3742C27.3535 13.5141 27.4487 13.6921 27.4868 13.8855C27.5249 14.079 27.5041 14.2793 27.427 14.4611C27.3499 14.6428 27.2201 14.7979 27.0538 14.9067C26.8876 15.0156 26.6925 15.0732 26.4931 15.0724C26.3604 15.0728 26.229 15.0471 26.1065 14.9969C25.984 14.9466 25.8728 14.8728 25.7794 14.7797C25.6859 14.6866 25.6122 14.576 25.5624 14.4545C25.5126 14.3329 25.4878 14.2028 25.4893 14.0717ZM24.8765 8.73176C24.6759 8.73342 24.4795 8.67617 24.3119 8.56726C24.1444 8.45836 24.0133 8.30272 23.9354 8.12008C23.8574 7.93744 23.8361 7.73602 23.8741 7.54139C23.9121 7.34675 24.0077 7.16766 24.1489 7.02683C24.29 6.886 24.4702 6.78978 24.6667 6.75036C24.8633 6.71095 25.0672 6.73013 25.2527 6.80545C25.4381 6.88078 25.5968 7.00887 25.7085 7.17348C25.8203 7.33808 25.88 7.53178 25.8803 7.73001C25.8797 7.99391 25.7741 8.24698 25.5862 8.43446C25.3984 8.62194 25.1434 8.72874 24.8765 8.73176ZM26.081 22.2612C25.8137 22.2612 25.5573 22.1562 25.3682 21.9693C25.1792 21.7824 25.073 21.5289 25.073 21.2646C25.073 21.0003 25.1792 20.7469 25.3682 20.56C25.5573 20.3731 25.8137 20.2681 26.081 20.2681C26.2134 20.2681 26.3445 20.2939 26.4668 20.344C26.5891 20.394 26.7002 20.4674 26.7938 20.56C26.8874 20.6525 26.9617 20.7624 27.0123 20.8833C27.063 21.0042 27.089 21.1338 27.089 21.2646C27.089 21.3955 27.063 21.5251 27.0123 21.646C26.9617 21.7669 26.8874 21.8767 26.7938 21.9693C26.7002 22.0618 26.5891 22.1352 26.4668 22.1853C26.3445 22.2354 26.2134 22.2612 26.081 22.2612ZM21.9665 25.7427C22.1666 25.7417 22.3624 25.7995 22.5292 25.9088C22.696 26.018 22.8261 26.1738 22.9031 26.3564C22.9801 26.5389 23.0005 26.74 22.9616 26.934C22.9228 27.1281 22.8265 27.3063 22.6849 27.4461C22.5434 27.5859 22.363 27.6809 22.1667 27.7191C21.9704 27.7573 21.767 27.737 21.5824 27.6606C21.3978 27.5843 21.2404 27.4555 21.13 27.2905C21.0197 27.1255 20.9614 26.9318 20.9627 26.7341C20.9641 26.4714 21.0703 26.2199 21.2583 26.0342C21.4463 25.8486 21.7008 25.7438 21.9665 25.7427Z"
                  fill="#231F20"
                />
              </svg>
            </div>
          </li>
          <li>
            <Link to={routes.dashboardPage} className="project-border-left">
              <i className="fa fa-th-large"></i>
              <span className="nav-label">Projects</span>
            </Link>
          </li>
        </ul>
      </div>
    </nav>
  );
};

export default Sidebar;
